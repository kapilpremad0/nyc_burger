<div class="main-menu menu-fixed menu-light menu-accordion menu-shadow" data-scroll-to-active="true">
  <div class="navbar-header">
    <ul class="nav navbar-nav flex-row">
      <li class="nav-item me-auto">
        <a class="navbar-brand" href="<%= '/admin/' %>">
          <span class="brand-logo"></span>
          <h2 class="brand-text">NYC BURGER POS</h2>
        </a>
      </li>
      <li class="nav-item nav-toggle">
        <a class="nav-link modern-nav-toggle pe-0" data-bs-toggle="collapse">
          <i class="d-block d-xl-none text-primary toggle-icon font-medium-4" data-feather="x"></i>
          <i class="d-none d-xl-block collapse-toggle-icon font-medium-4 text-primary" data-feather="disc" data-ticon="disc"></i>
        </a>
      </li>
    </ul>
  </div>

  <div class="shadow-bottom"></div>

  <div class="main-menu-content">
    <ul class="navigation navigation-main" id="main-menu-navigation" data-menu="menu-navigation">

      <!-- Dashboard -->
      <li class="nav-item <%= currentRoute == '/admin/' ? 'active' : '' %>">
        <a class="d-flex align-items-center" href="/admin">
          <i data-feather="home"></i>
          <span class="menu-title text-truncate" data-i18n="Dashboard">Dashboard</span>
        </a>
      </li>

      <!-- Categories -->
      <% if (appUser && (appUser.user_type === 'admin' || (appUser.permissions && appUser.permissions.category && appUser.permissions.category.includes('show')))) { %>
      <li class="nav-item <%= currentRoute.startsWith('/admin/categories') ? 'active' : '' %>">
        <a class="d-flex align-items-center" href="/admin/categories">
          <i data-feather="layers"></i> <!-- updated icon -->
          <span class="menu-title text-truncate" data-i18n="categories">Categories</span>
        </a>
      </li>
      <% } %>

      <!-- Products -->
      <% if (appUser && (appUser.user_type === 'admin' || (appUser.permissions && appUser.permissions.product && appUser.permissions.product.includes('show')))) { %>
      <li class="nav-item <%= currentRoute.startsWith('/admin/products') ? 'active' : '' %>">
        <a class="d-flex align-items-center" href="/admin/products">
          <i data-feather="box"></i> <!-- updated icon -->
          <span class="menu-title text-truncate" data-i18n="products">Products</span>
        </a>
      </li>
      <% } %>

      <!-- Coupons -->
      <% if (appUser && (appUser.user_type === 'admin' || (appUser.permissions && appUser.permissions.coupon && appUser.permissions.coupon.includes('show')))) { %>
      <li class="nav-item <%= currentRoute.startsWith('/admin/coupons') ? 'active' : '' %>">
        <a class="d-flex align-items-center" href="/admin/coupons">
          <i data-feather="percent"></i> <!-- updated icon -->
          <span class="menu-title text-truncate" data-i18n="Coupon">Coupon</span>
        </a>
      </li>
      <% } %>

      <!-- Admin Users -->
      <% if (appUser && (appUser.user_type === 'admin' || (appUser.permissions && appUser.permissions.users && appUser.permissions.users.includes('show')))) { %>
      <li class="nav-item <%= currentRoute.startsWith('/admin/users') ? 'active' : '' %>">
        <a class="d-flex align-items-center" href="/admin/users">
          <i data-feather="user-check"></i> <!-- updated icon -->
          <span class="menu-title text-truncate" data-i18n="Users">Admin Users</span>
        </a>
      </li>
      <% } %>

      <!-- Orders -->
      <% if (appUser && (appUser.user_type === 'admin' || (appUser.permissions && appUser.permissions.order && appUser.permissions.order.includes('list')))) { %>
      <li class="nav-item <%= currentRoute.startsWith('/admin/orders') ? 'active' : '' %>">
        <a class="d-flex align-items-center" href="/admin/orders">
          <i data-feather="shopping-cart"></i>
          <span class="menu-title text-truncate" data-i18n="Orders">Orders</span>
        </a>
      </li>
      <% } %>

      <!-- POS Settings -->
      <li class="nav-item <%= currentRoute.startsWith('/admin/settings') ? 'active' : '' %>">
        <a class="d-flex align-items-center" href="/pos">
          <i data-feather="terminal"></i> <!-- updated POS icon -->
          <span class="menu-title text-truncate" data-i18n="Setting">POS</span>
        </a>
      </li>
      

      <!-- Masters -->
      <li class="nav-item">
        <a class="d-flex align-items-center" href="#">
          <i data-feather="layers"></i> <!-- master section icon -->
          <span class="menu-title text-truncate" data-i18n="Masters">Masters</span>
        </a>
        <ul class="menu-content">

          <!-- City Master -->
          <% if (appUser && (appUser.user_type === 'admin' || (appUser.permissions && appUser.permissions.city && appUser.permissions.city.includes('show')))) { %>
          <li class="nav-item <%= currentRoute.startsWith('/admin/cities') ? 'active' : '' %>">
            <a class="d-flex align-items-center" href="/admin/cities">
              <i data-feather="map-pin"></i> <!-- updated icon -->
              <span class="menu-title text-truncate" data-i18n="City">City Master</span>
            </a>
          </li>
          <% } %>

          <!-- Branch Master -->
          <% if (appUser && (appUser.user_type === 'admin' || (appUser.permissions && appUser.permissions.branch && appUser.permissions.branch.includes('show')))) { %>
          <li class="nav-item <%= currentRoute.startsWith('/admin/branches') ? 'active' : '' %>">
            <a class="d-flex align-items-center" href="/admin/branches">
              <i data-feather="git-branch"></i> <!-- branch icon -->
              <span class="menu-title text-truncate" data-i18n="Branch">Branch Master</span>
            </a>
          </li>
          <% } %>

        </ul>
      </li>

    </ul>
  </div>
</div>
